<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trang Thanh Toán</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <header>
        <h1>Thanh Toán</h1>
    </header>
    <main>
        <!-- Hiển thị giỏ hàng -->
        <section id="cart-items">
            <h2>Sản phẩm trong giỏ hàng</h2>
            <ul id="cart-list">
                <!-- Danh sách sản phẩm sẽ được hiển thị bằng JavaScript -->
            </ul>
        </section>

        <!-- Form nhập thông tin giao hàng -->
        <section id="shipping-info">
            <h2>Thông tin giao hàng</h2>
            <form id="checkout-form">
                <label for="recipient-name">Tên người nhận:</label>
                <input type="text" id="recipient-name" name="recipient-name" placeholder="Nhập tên người nhận" required>

                <label for="phone">Số điện thoại:</label>
                <input type="tel" id="phone" name="phone" placeholder="Nhập số điện thoại" required>

                <label for="address">Địa chỉ nhận hàng:</label>
                <input type="text" id="address" name="address" placeholder="Nhập địa chỉ nhận hàng" required>

                <button type="submit">Thanh Toán</button>
            </form>
        </section>

        <!-- Kết quả thanh toán -->
        <section id="payment-status">
            <h2>Kết quả thanh toán</h2>
            <p id="status-message">Chưa thực hiện thanh toán.</p>
        </section>
    </main>

    <script>
        // Hiển thị sản phẩm trong giỏ hàng
        const cartItems = JSON.parse(localStorage.getItem('cart')) || [];
        const cartList = document.getElementById('cart-list');

        if (cartItems.length === 0) {
            cartList.innerHTML = '<li>Giỏ hàng trống</li>';
        } else {
            cartItems.forEach(item => {
                const li = document.createElement('li');
                li.textContent = `${item.name} - ${item.price.toLocaleString()} VND`;
                cartList.appendChild(li);
            });
        }

        // Xử lý form thanh toán
        document.getElementById('checkout-form').addEventListener('submit', (e) => {
            e.preventDefault();

            // Thu thập thông tin từ form
            const name = document.getElementById('recipient-name').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const address = document.getElementById('address').value.trim();

            if (!validateInput(name, phone, address)) {
                alert('Vui lòng nhập đầy đủ và đúng thông tin.');
                return;
            }

            // Hiển thị kết quả thanh toán
            const statusMessage = document.getElementById('status-message');
            statusMessage.textContent = 'Thông tin thanh toán đã được gửi thành công!';
            statusMessage.style.color = 'green';
        });

        // Kiểm tra đầu vào
        function validateInput(name, phone, address) {
            const phoneRegex = /^\d{10,11}$/; // Số điện thoại 10-11 chữ số
            return name !== '' && phoneRegex.test(phone) && address !== '';
        }
    </script>
</body>
</html>